var yumChart=function(){var e,t={MAJOR:1,MINOR:0,PATCH:0},a={toolbox:{show:!0,feature:{magicType:{show:!0,type:["stack","tiled"]},saveAsImage:{show:!0}}},title:{show:!0,text:"",left:"center",textStyle:{color:"#0055B6",fontWeight:"normal",fontSize:24}},legend:{data:[{name:""}],top:"5%",right:"7%"},xAxis:{name:"",axisLine:{show:!0},nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:30,type:"value",data:[]},yAxis:{name:"",axisLine:{show:!0},nameLocation:"middle",nameRotate:90,nameTextStyle:{fontSize:16},nameGap:50,type:"value",data:[]},series:[{type:"line",name:"",data:[],label:{normal:{show:!0,position:"top",formatter:null}},labelLine:{normal:{show:!0}}}],reset:function(){this.toolbox={show:!0,feature:{magicType:{show:!0,type:["stack","tiled"]},saveAsImage:{show:!0}}},this.title={show:!0,text:"",left:"center",textStyle:{color:"#0055B6",fontWeight:"normal",fontSize:24}},this.legend={data:[{name:""}],top:"5%",right:"7%"},this.xAxis={name:"",axisLine:{show:!0},nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:30,type:"value",data:[]},this.yAxis={name:"",axisLine:{show:!0},nameLocation:"middle",nameTextStyle:{fontSize:16},nameRotate:90,nameGap:50,type:"value",data:[]},this.series=[{type:"line",name:"",data:[],label:{normal:{show:!0,position:"top",formatter:null}},labelLine:{normal:{show:!0}}}]}};return{graphInstance:void 0,width:0,height:0,getVersion:function(){return t.MAJOR+"."+t.MINOR+"."+t.PATCH},_setGraphSettings:function(){try{yumChart.graphInstance.showLoading(),a.title.textStyle.fontSize=Math.ceil(22/1024*window.innerHeight),yumChart.graphInstance.setOption(a),window.onresize=yumChart.graphInstance.resize,yumChart.graphInstance.hideLoading()}catch(e){console.log("[yumChart] "+e.message)}return yumChart},resizeTitle:function(e){var t=void 0!==e&&"#"===e.substr(0,1)?e:console.log("[yumChart] resizeTitle: Invalid containerDivID!");try{a=yumChart.getYumChartInstanceOptions(t);var r=t.substr(1,t.length);r=r.replace(/\W/g,"_"),$(window).width()>$(window).height()?a.title[0].textStyle.fontSize=Math.ceil(32/1080*yumChart["height_"+r]):a.title[0].textStyle.fontSize=Math.ceil(24/1080*yumChart["width_"+r]),yumChart.graphInstance.setOption(a)}catch(s){console.log(s)}},getBaiduGraphSettings:function(){return a},_convertData:function(){try{switch(e.chart.type){case"polyline":a.reset();var t=e.chart.series.length;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.xAxis.name=void 0!==e.chart.xtitle?e.chart.xtitle:"",a.yAxis.name=void 0!==e.chart.ytitle?e.chart.ytitle:"",a.tooltip={show:!0,trigger:"axis"};for(var r=0;t>r;r++){var s=e.chart.series[r].data.length;a.series[r]={name:"",type:"",data:[]},a.series[r].type="line",a.series[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.legend.data[r]={name:""},a.legend.data[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].label={normal:{show:!0,position:"top",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{c}".split(",")[1]}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1;for(var i=0;s>i;i++)a.series[r].data[i]={name:"",value:0},a.series[r].data[i].name=e.chart.series[r].data[i].labelx||"",a.series[r].data[i].value=[],a.series[r].data[i].value[0]=void 0!==e.chart.series[r].data[i].x?e.chart.series[r].data[i].x:"-",a.series[r].data[i].value[1]=void 0!==e.chart.series[r].data[i].y?e.chart.series[r].data[i].y:"-"}break;case"bar_vertical_sidebyside":a.reset();var t=e.chart.series.length;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.xAxis.name=void 0!==e.chart.xtitle?e.chart.xtitle:"",a.yAxis.name=void 0!==e.chart.ytitle?e.chart.ytitle:"",a.tooltip={show:!0,trigger:"axis",axisPointer:{type:"shadow"}},a.xAxis.type="category",a.xAxis.axisLabel={},a.xAxis.axisLabel.show=!0;for(var r=0;t>r;r++){var s=e.chart.series[r].data.length;a.series[r]={name:"",type:"",data:[]},a.series[r].type="bar",a.series[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.legend.data[r]={name:""},a.legend.data[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].label={normal:{show:!0,position:"top",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{c}"}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1;for(var i=0;s>i;i++)a.series[r].data[i]={name:"",value:0},a.series[r].data[i].name=e.chart.series[r].data[i].labelx||"",a.series[r].data[i].value=[],a.series[r].data[i].value=void 0!==e.chart.series[r].data[i].y?e.chart.series[r].data[i].y:"-",a.xAxis.data[i]=void 0!==e.chart.series[r].data[i].labelx?e.chart.series[r].data[i].labelx:""}break;case"bar_horizon_sidebyside":a.reset();var t=e.chart.series.length;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.xAxis.name=void 0!==e.chart.xtitle?e.chart.xtitle:"",a.yAxis.name=void 0!==e.chart.ytitle?e.chart.ytitle:"",a.tooltip={show:!0,trigger:"axis",axisPointer:{type:"shadow"}},a.yAxis.type="category",a.yAxis.data=[],a.yAxis.axisLabel={},a.yAxis.axisLabel.show=!0;for(var r=0;t>r;r++){var s=e.chart.series[r].data.length;a.series[r]={name:"",type:"",data:[]},a.series[r].type="bar",a.series[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.legend.data[r]={name:""},a.legend.data[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].label={normal:{show:!0,position:"right",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{c}"}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1;for(var i=0;s>i;i++)a.series[r].data[i]={name:"",value:0},a.series[r].data[i].name=void 0!==e.chart.series[r].data[i].labely?e.chart.series[r].data[i].labely:"",a.series[r].data[i].value=[],a.series[r].data[i].value=void 0!==e.chart.series[r].data[i].x?e.chart.series[r].data[i].x:"-",a.yAxis.data[i]=void 0!==e.chart.series[r].data[i].labely?e.chart.series[r].data[i].labely:""}break;case"bar_vertical_stack":a.reset();var t=e.chart.series.length;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.xAxis.name=void 0!==e.chart.xtitle?e.chart.xtitle:"",a.yAxis.name=void 0!==e.chart.ytitle?e.chart.ytitle:"",a.tooltip={show:!0,trigger:"axis",axisPointer:{type:"shadow"}},a.xAxis.type="category",a.xAxis.axisLabel={},a.xAxis.axisLabel.show=!0;for(var r=0;t>r;r++){var s=e.chart.series[r].data.length;a.series[r]={name:"",type:"",data:[]},a.series[r].type="bar",a.series[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].stack="stack",a.legend.data[r]={name:""},a.legend.data[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].label={normal:{show:!0,position:"inside",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{c}"}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1;for(var i=0;s>i;i++)a.series[r].data[i]={name:"",value:0},a.series[r].data[i].name=e.chart.series[r].data[i].labelx||"",a.series[r].data[i].value=[],a.series[r].data[i].value=void 0!==e.chart.series[r].data[i].y?e.chart.series[r].data[i].y:"-",a.xAxis.data[i]=void 0!==e.chart.series[r].data[i].labelx?e.chart.series[r].data[i].labelx:""}break;case"bar_horizon_stack":a.reset();var t=e.chart.series.length;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.xAxis.name=void 0!==e.chart.xtitle?e.chart.xtitle:"",a.yAxis.name=void 0!==e.chart.ytitle?e.chart.ytitle:"",a.tooltip={show:!0,trigger:"axis",axisPointer:{type:"shadow"}},a.xAxis.type="value",a.yAxis.type="category",a.yAxis.axisLabel={},a.yAxis.axisLabel.show=!0;for(var r=0;t>r;r++){var s=e.chart.series[r].data.length;a.series[r]={name:"",type:"",data:[]},a.series[r].type="bar",a.series[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].stack="stack",a.legend.data[r]={name:""},a.legend.data[r].name=void 0!==e.chart.series[r].seriesName?e.chart.series[r].seriesName:"series"+r,a.series[r].label={normal:{show:!0,position:"inside",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{c}"}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1;for(var i=0;s>i;i++)a.series[r].data[i]={name:"",value:0},a.series[r].data[i].name=e.chart.series[r].data[i].labely||"",a.series[r].data[i].value=[],a.series[r].data[i].value=void 0!==e.chart.series[r].data[i].x?e.chart.series[r].data[i].x:"-",a.yAxis.data[i]=void 0!==e.chart.series[r].data[i].labely?e.chart.series[r].data[i].labely:""}break;case"pie":a.reset();var t=e.chart.series.length;e.chart.pieAlignment=void 0!==e.chart.pieAlignment?e.chart.pieAlignment:"tiled";var h={getPercentPosPie:function(){if("polygon"==e.chart.pieAlignment){if(1===t)return[{x:"50%",y:"50%"}];if(2===t)return[{x:"33%",y:"50%"},{x:"67%",y:"50%"}];for(var a=function(e,t){var a,r,i=void 0!==e?Math.round(e):3,h=void 0!==t?t:300,n=2*Math.PI/i,o=[];r=s%2===1?Math.PI/2:Math.PI/2-n/2;for(var l=0;i>l;l++){a=r+l*n;var c=Math.round(h*Math.cos(a)),d=Math.round(h*Math.sin(a));o.push({x:c,y:d})}return o},r=function(){return yumChart.height<yumChart.width?.5*yumChart.height:.5*yumChart.width},i=a(t,r()),h=[],n=[],o=0;t>o;o++)h[o]={x:(yumChart.width+i[o].x)/2,y:(yumChart.height+i[o].y+50)/2},n[o]={x:(h[o].x/yumChart.width*100).toFixed(2)+"%",y:(h[o].y/yumChart.height*100).toFixed(2)+"%"};return n}if("tiled"==e.chart.pieAlignment){if(1==t)return[[{x:"50%",y:"50%"}]];if(2==t)return[[{x:"33%",y:"50%"},{x:"67%",y:"50%"}]];var l=[],c=Math.ceil(Math.sqrt(t)),d=t-Math.pow(Math.floor(Math.sqrt(t)),2),m=function(){for(var e=0,t=0;c>t;t++){l[t]=[];for(var a=0;c>a;a++)0===d?l[t][a]={y:(yumChart.height+50)/(c+1)*(t+1),x:yumChart.width/(c+1)*(a+1)}:a==c-1||t==c-1?d>e||0===d?(c-1>=d?l[t][a]={y:(yumChart.height+50)/c*(t+1),x:yumChart.width/(c+1)*(a+1)}:l[t][a]={y:(yumChart.height+50)/(c+.9)*(t+1),x:yumChart.width/(c+1)*(a+1)},0!==d&&e++):l[t][a]=null:c-1>=d?l[t][a]={y:(yumChart.height+50)/c*(t+1),x:yumChart.width/(c+1)*(a+1)}:l[t][a]={y:(yumChart.height+50)/(c+.9)*(t+1),x:yumChart.width/(c+1)*(a+1)}}return l},y=function(e){for(var t=e,a=[],r=0;r<t.length;r++){a[r]=[];for(var s=0;s<t[r].length;s++)null!==t[r][s]&&(a[r][s]={},a[r][s].x=(t[r][s].x/yumChart.width*100).toFixed(2)+"%",a[r][s].y=(t[r][s].y/yumChart.height*100).toFixed(2)+"%")}return a},u=m();return y(u)}console.log("[yumChart] Invalid pie alignment!")},calcEachPieRadius:function(){if("polygon"==e.chart.pieAlignment)return 1===t?"75%":2===t?"40%":yumChart.height<yumChart.width?yumChart.height*(1/t)/yumChart.height*100+"%":yumChart.width*(1/t)/yumChart.width*100+"%";if("tiled"==e.chart.pieAlignment){if(1===t)return"75%";if(2===t)return"40%";var a=Math.ceil(Math.sqrt(t));return yumChart.height<yumChart.width?yumChart.height/(a+1)/yumChart.height*100+"%":yumChart.width/(a+1)/yumChart.width*100+"%"}}},n=h.getPercentPosPie();if("polygon"==e.chart.pieAlignment)var o=n;else for(var o=[],l=0,c=0;c<n.length;c++)for(var d=0;d<n[c].length;d++)o[l]=n[c][d],l++;a.title.text=void 0!==e.chart.title?e.chart.title:"",a.tooltip={show:!0,trigger:"item"},delete a.xAxis,delete a.yAxis;for(var r=0;t>r;r++){a.series[r]={name:"",type:"",data:[]},a.series[r].type="pie",a.series[r].name=e.chart.series[r].seriesName||"series"+r,a.series[r].radius="50%",a.legend.data[r]={name:""},a.legend.data[r].name=e.chart.series[r].seriesName||"series"+r,a.series[r].radius=h.calcEachPieRadius(),a.series[r].avoidLabelOverlap=!0,a.series[r].label={normal:{show:!0,position:"outside",textStyle:{fontWeight:"normal",fontSize:12},formatter:"{b}: {c} ({d}%)"}},a.series[r].labelLine={normal:{show:!0}},a.series[r].label.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1,a.series[r].labelLine.normal.show=void 0!==e.chart.showLabel?e.chart.showLabel:!1,a.series[r].center=[],a.series[r].center[0]=o[r].x,a.series[r].center[1]=o[r].y;for(var s=e.chart.series[r].data.length,i=0;s>i;i++)a.series[r].data[i]={name:"",value:""},a.series[r].data[i].name=e.chart.series[r].data[i].labelx||"",a.series[r].data[i].value=void 0!==e.chart.series[r].data[i].x?e.chart.series[r].data[i].x:"-"}a.toolbox.feature.magicType.show=!1;break;default:console.log("[yumChart] Invalid graph type!")}}catch(m){console.log("[yumChart] _convertData: "+m.message)}},_generateGraph:function(e){var t="string"==typeof e&&"#"===e.substr(0,1)?e:console.log("[yumChart] _generateGraph: Invalid container ID!");try{yumChart.graphInstance=echarts.init(document.getElementById(t.substr(1,t.length)))}catch(a){console.log("[yumChart] _generateGraph: "+a.message)}return yumChart},deleteGraph:function(e){try{var t=void 0!==e&&"#"===e.substr(0,1)?e:console.log("[yumChart] deleteGraph: Invalid containerDivID");void 0!==t&&yumChart.getYumChartInstance(e),yumChart.graphInstance.dispose()}catch(a){console.log("[yumChart] _generateGraph: "+a.message)}return yumChart},resetGraphSettings:function(){a.reset()},setChartData:function(t){if("string"==typeof t)try{e=JSON.parse(t),"YumChartData"===e.doctype?(yumChart._convertData(),yumChart._setGraphSettings()):console.log("[yumChart] Invalid data format: must only be YumChartData file")}catch(a){return void console.log("[yumChart] Exception: "+a.message)}else if("object"==typeof t)try{JSON.stringify(t);e=t,"YumChartData"===e.doctype?(yumChart._convertData(),yumChart._setGraphSettings()):console.log("[yumChart] Invalid data format: must only be YumChartData file")}catch(a){return void console.log("[yumChart] Exception: "+a.message)}else console.log("[yumChart] setChartData: Invalid data - Must be either string or object format!")},getYumChartData:function(){return e},toggleLabel:function(t,r){var s=void 0!==t&&"#"===t.substr(0,1)?t:console.log("[yumChart] toggleLabel: Invalid containerDivID"),i=void 0!==r&&r===!0?r:!1;a=yumChart.getYumChartInstanceOptions(s);for(var h=0;h<a.series.length;h++)a.series[h].label.normal.show=i,"pie"===e.chart.type&&(a.series[h].labelLine.normal.show=i);yumChart.graphInstance.setOption(a)},getYumChartInstance:function(e){var t=void 0!==e&&"#"===e.substring(0,1)?e:console.log("[yumChart] getYumChartInstance: Invalid container ID");try{return yumChart.graphInstance=echarts.getInstanceByDom(document.getElementById(t.substr(1,t.length))),yumChart.graphInstance}catch(a){console.log("[yumChart] getYumChartInstance: [Exception] "+a.message)}},getYumChartInstanceOptions:function(e){void 0!==e&&"#"===e.substring(0,1)?e:console.log("[yumChart] getYumChartInstance: Invalid container ID");try{var t=yumChart.getYumChartInstance(e).getOption();return t}catch(a){console.log("[yumChart] getYumChartInstanceOptions: [Exception] "+a.message)}},drawGraph:function(e,t){var a="string"==typeof e&&"#"===e.substring(0,1)?e:console.log("[yumChart] drawGraph: Invalid ID! (starts with #)!"),r="object"==typeof t||"string"==typeof t?t:void 0;if(void 0!==a&&void 0!==r){yumChart._generateGraph(a),yumChart.setChartData(r);var s=a.substr(1,a.length);s=s.replace(/\W/g,"_");var i='<script id="yumChartGetWidthAndHeight_'+a.substring(1,a.length)+'">$(function () {var $YC = $("'+a+'");yumChart.height_'+s+" = $YC.height();yumChart.width_"+s+" = $YC.width();$(window).resize(function () {yumChart.height_"+s+" = $YC.height();yumChart.width_"+s+" = $YC.width();});});</script>";return 0!==$("#yumChartGetWidthAndHeight_"+a.substring(1,a.length)).length||$("body").append(i),yumChart}console.log("[yumChart] containerDivID and chartData are non-null parameters. Values are REQUIRED!")}}}();